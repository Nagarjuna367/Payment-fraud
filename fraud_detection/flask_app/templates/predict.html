<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fraud Detection - Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Fraud Detection System</h1>
                <p class="subtitle">Enter Transaction Details to Check for Fraud</p>
            </div>
        </header>

        <main>
            <section class="prediction-section">
                <div class="form-container">
                    <h2>Transaction Details</h2>
                    <p class="form-description">Please enter the transaction information below for fraud analysis</p>
                    
                    <form id="fraudForm" method="POST" action="/submit">
                        <div class="form-group">
                            <label for="step">Step (1-744):</label>
                            <input type="number" id="step" name="step" min="1" max="744" required placeholder="Enter step number">
                            <small>Time step of the transaction in the dataset</small>
                        </div>

                        <div class="form-group">
                            <label for="type">Transaction Type:</label>
                            <select id="type" name="type" required>
                                <option value="">-- Select Transaction Type --</option>
                                <option value="CASH_IN">Cash In</option>
                                <option value="CASH_OUT">Cash Out</option>
                                <option value="DEBIT">Debit</option>
                                <option value="PAYMENT">Payment</option>
                                <option value="TRANSFER">Transfer</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="amount">Transaction Amount:</label>
                            <div class="input-with-select">
                                <input type="number" id="amount" name="amount" min="0" step="0.01" required placeholder="Enter transaction amount">
                                <select id="currency" name="currency" class="currency-select" aria-label="Currency">
                                    <option value="USD" selected>USD ($)</option>
                                    <option value="EUR">EUR (€)</option>
                                    <option value="GBP">GBP (£)</option>
                                    <option value="INR">INR (₹)</option>
                                    <option value="JPY">JPY (¥)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="oldbalanceOrg">Origin Account Balance Before ($):</label>
                                <input type="number" id="oldbalanceOrg" name="oldbalanceOrg" min="0" step="0.01" required placeholder="0.00">
                            </div>

                            <div class="form-group">
                                <label for="newbalanceOrig">Origin Account Balance After ($):</label>
                                <input type="number" id="newbalanceOrig" name="newbalanceOrig" min="0" step="0.01" required placeholder="0.00">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="oldbalanceDest">Destination Account Balance Before ($):</label>
                                <input type="number" id="oldbalanceDest" name="oldbalanceDest" min="0" step="0.01" required placeholder="0.00">
                            </div>

                            <div class="form-group">
                                <label for="newbalanceDest">Destination Account Balance After ($):</label>
                                <input type="number" id="newbalanceDest" name="newbalanceDest" min="0" step="0.01" required placeholder="0.00">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-large">Analyze Transaction</button>
                            <button type="reset" class="btn btn-secondary">Clear Form</button>
                        </div>
                    </form>

                    <div class="sample-transactions">
                        <h3>Sample Transactions to Try</h3>
                        <div class="sample-grid">
                            <div class="sample-card" onclick="loadSample1()">
                                <h4>Normal Transaction 1</h4>
                                <p>TRANSFER - USD 1,500</p>
                            </div>
                            <div class="sample-card" onclick="loadSample2()">
                                <h4>Normal Transaction 2</h4>
                                <p>PAYMENT - USD 2,500</p>
                            </div>
                            <div class="sample-card" onclick="loadSample3()">
                                <h4>Suspicious Transaction</h4>
                                <p>CASH_OUT - USD 10,000</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="features-info">
                <h2>Field Descriptions</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Step</h3>
                        <p>Sequential number representing the time of the transaction within the dataset (range: 1-744)</p>
                    </div>
                    <div class="info-card">
                        <h3>Transaction Type</h3>
                        <p>Type of payment transaction: Cash In, Cash Out, Debit, Payment, or Transfer</p>
                    </div>
                    <div class="info-card">
                        <h3>Amount</h3>
                        <p>The amount of the transaction in dollars</p>
                    </div>
                    <div class="info-card">
                        <h3>Account Balances</h3>
                        <p>Before and after transaction balances for both origin and destination accounts</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <div class="footer-content">
                <p>&copy; 2026 Online Payments Fraud Detection System</p>
                <p>Powered by Machine Learning | Built with Python & Flask</p>
                <div class="footer-links">
                    <a href="/">Home</a> |
                    <a href="/api/health">API Status</a> |
                    <a href="/api/stats">Model Stats</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        function loadSample1() {
            document.getElementById('step').value = '100';
            document.getElementById('type').value = 'TRANSFER';
            document.getElementById('amount').value = '1500.00';
            document.getElementById('oldbalanceOrg').value = '50000.00';
            document.getElementById('newbalanceOrig').value = '48500.00';
            document.getElementById('oldbalanceDest').value = '30000.00';
            document.getElementById('newbalanceDest').value = '31500.00';
        }

        function loadSample2() {
            document.getElementById('step').value = '250';
            document.getElementById('type').value = 'PAYMENT';
            document.getElementById('amount').value = '2500.00';
            document.getElementById('oldbalanceOrg').value = '75000.00';
            document.getElementById('newbalanceOrig').value = '72500.00';
            document.getElementById('oldbalanceDest').value = '40000.00';
            document.getElementById('newbalanceDest').value = '42500.00';
        }

        function loadSample3() {
            document.getElementById('step').value = '400';
            document.getElementById('type').value = 'CASH_OUT';
            document.getElementById('amount').value = '10000.00';
            document.getElementById('oldbalanceOrg').value = '15000.00';
            document.getElementById('newbalanceOrig').value = '5000.00';
            document.getElementById('oldbalanceDest').value = '20000.00';
            document.getElementById('newbalanceDest').value = '30000.00';
        }
    </script>
</body>
</html>
